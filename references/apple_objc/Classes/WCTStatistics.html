<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">

	<title>WCTStatistics Class Reference</title>

	<link rel="stylesheet" href="../css/style.css">
	<meta name="viewport" content="initial-scale=1, maximum-scale=1.4">
	<meta name="generator" content="appledoc 2.2.1 (build 1334)">
</head>
<body class="appledoc">
	<header>
		<div class="container" class="hide-in-xcode">
			
			<h1 id="library-title">
				<a href="../index.html">WCDB </a>
			</h1>

			<p id="developer-home">
				<a href="../index.html">Tencent</a>
			</p>
			
		</div>
	</header>

	<aside>
		<div class="container">
			<nav>
				<ul id="header-buttons" role="toolbar">
					<li><a href="../index.html">Index</a></li>
<li><a href="../hierarchy.html">Hierarchy</a></li>

					<li id="on-this-page" role="navigation">
						<label>
							On This Page

							<div class="chevron">
								<div class="chevy chevron-left"></div>
								<div class="chevy chevron-right"></div>
							</div>

							<select id="jump-to">
	<option value="top">Jump To&#133;</option>
	
	<option value="overview">Overview</option>
	

	
	
	<option value="tasks">Tasks</option>
	
	

	
	

	
	<optgroup label="Class Methods">
		
		<option value="//api/name/SetGlobalErrorReport:">+ SetGlobalErrorReport:</option>
		
		<option value="//api/name/SetGlobalPerformanceTrace:">+ SetGlobalPerformanceTrace:</option>
		
		<option value="//api/name/SetGlobalSQLTrace:">+ SetGlobalSQLTrace:</option>
		
		<option value="//api/name/SetGlobalTrace:">+ SetGlobalTrace:</option>
		
	</optgroup>
	

	
	
</select>
						</label>
					</li>
				</ul>
			</nav>
		</div>
	</aside>

	<article>
		<div id="overview_contents" class="container">
			<div id="content">
				<main role="main">
					<h1 class="title">WCTStatistics Class Reference</h1>

					
					<div class="section section-specification"><table cellspacing="0"><tbody>
						<tr>
	<th>Inherits from</th>
	<td>NSObject</td>
</tr><tr>
	<th>Declared in</th>
	<td>WCTStatistics.h</td>
</tr>
						</tbody></table></div>
					

                    
					
					<div class="section section-overview">
						<a title="Overview" name="overview"></a>
						<h2 class="subtitle subtitle-overview">Overview</h2>
						<p>Statistics</p>
					</div>
					
					

					
					
					<div class="section section-tasks">
						<a title="Tasks" name="tasks"></a>
						

						
						<h2 class="task-title">Other Methods</h2>

						<div class="task-list">
							<div class="section-method">
	<a name="//api/name/SetGlobalErrorReport:" title="SetGlobalErrorReport:"></a>
	<h3 class="method-title"><code><a href="#//api/name/SetGlobalErrorReport:">+&nbsp;SetGlobalErrorReport:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>You can register a reporter to monitor all errors.</p>

<pre><code> [WCTStatistics SetGlobalErrorReport:^(WCTError* error) {
    NSLog(@"%@", error);
 }];
</code></pre>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>+ (void)SetGlobalErrorReport:(WCTErrorReport)<em>report</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>report</code></th>
						<td><p>report</p></td>
					</tr>
				
				</table>
			</div>
			

			

			

			

			

			
			<div class="method-subsection see-also-section">
				<h4 class="method-subtitle">See Also</h4>
				<ul>
					
					<li><code><p><a href="../Blocks/WCTErrorReport.html">WCTErrorReport</a></p></code></li>
					
				</ul>
			</div>
			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">WCTStatistics.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/SetGlobalPerformanceTrace:" title="SetGlobalPerformanceTrace:"></a>
	<h3 class="method-title"><code><a href="#//api/name/SetGlobalPerformanceTrace:">+&nbsp;SetGlobalPerformanceTrace:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>You can register a tracer to monitor the performance of all SQLs.
        It returns
        1. The collection of SQLs and the executions count of each SQL.
        2. Time consuming in nanoseconds.
        3. Tag of database.
        Note that:
        1. You should register trace before all db operations.
        2. Global tracer will be recovered by db tracer.</p>

<pre><code>[WCTStatistics SetGlobalPerformanceTrace:^(WCTTag tag, NSDictionary&lt;NSString*, NSNumber*&gt;* sqls, NSInteger cost) {
    NSLog(@"Tag: %d", tag);
    [sqls enumerateKeysAndObjectsUsingBlock:^(NSString *sql, NSNumber *count, BOOL *) {
        NSLog(@"SQL: %@ Count: %d", sql, count.intValue);
    }];
    NSLog(@"Total cost %ld nanoseconds", (long)cost);
}];
</code></pre>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>+ (void)SetGlobalPerformanceTrace:(WCTPerformanceTrace)<em>trace</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>trace</code></th>
						<td><p>trace</p></td>
					</tr>
				
				</table>
			</div>
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<div class="warning"><p><strong>Warning:</strong> Tracer may cause wcdb performance degradation, according to your needs to choose whether to open.</p></div>
			</div>
			

			

			
			<div class="method-subsection see-also-section">
				<h4 class="method-subtitle">See Also</h4>
				<ul>
					
					<li><code><p><a href="../Blocks/WCTPerformanceTrace.html">WCTPerformanceTrace</a></p></code></li>
					
					<li><code><p><a href="../Classes/WCTDatabase.html#//api/name/setPerformanceTrace:">[WCTDatabase setPerformanceTrace:]</a></p></code></li>
					
				</ul>
			</div>
			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">WCTStatistics.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/SetGlobalSQLTrace:" title="SetGlobalSQLTrace:"></a>
	<h3 class="method-title"><code><a href="#//api/name/SetGlobalSQLTrace:">+&nbsp;SetGlobalSQLTrace:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>You can register a tracer to monitor the execution of all SQLs.
        It returns a prepared or executed SQL.
        Note that you should register trace before all db operations.</p>

<pre><code>[WCTStatistics SetGlobalSQLTrace:^(NSString* sql) {
    NSLog(@"SQL: %@", sql);
}];
</code></pre>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>+ (void)SetGlobalSQLTrace:(WCTSQLTrace)<em>trace</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>trace</code></th>
						<td><p>trace</p></td>
					</tr>
				
				</table>
			</div>
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<div class="warning"><p><strong>Warning:</strong> Tracer may cause wcdb performance degradation, according to your needs to choose whether to open.</p></div>
			</div>
			

			

			
			<div class="method-subsection see-also-section">
				<h4 class="method-subtitle">See Also</h4>
				<ul>
					
					<li><code><p><a href="../Blocks/WCTSQLTrace.html">WCTSQLTrace</a></p></code></li>
					
				</ul>
			</div>
			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">WCTStatistics.h</code></p>
			</div>
			
			
		</div>
	</div>
</div>
						</div>
						

						<a title="Compatible Methods" name="task_Compatible Methods"></a>
						<h2 class="task-title">Compatible Methods</h2>

						<div class="task-list">
							<div class="section-method">
	<a name="//api/name/SetGlobalTrace:" title="SetGlobalTrace:"></a>
	<h3 class="method-title"><code><a href="#//api/name/SetGlobalTrace:">+&nbsp;SetGlobalTrace:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p><a href="#//api/name/SetGlobalPerformanceTrace:">[WCTStatistics SetGlobalPerformanceTrace:]</a></p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>+ (void)SetGlobalTrace:(WCTTrace)<em>trace</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>trace</code></th>
						<td><p>trace</p></td>
					</tr>
				
				</table>
			</div>
			

			

			

			

			

			
			<div class="method-subsection see-also-section">
				<h4 class="method-subtitle">See Also</h4>
				<ul>
					
					<li><code><p><a href="#//api/name/SetGlobalPerformanceTrace:">[WCTStatistics SetGlobalPerformanceTrace:]</a></p></code></li>
					
				</ul>
			</div>
			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">WCTStatistics+Compatible.h</code></p>
			</div>
			
			
		</div>
	</div>
</div>
						</div>
						
					</div>
					
					

                    
                    
          
				</main>

				<footer>
					<div class="footer-copyright">
						
						<p class="copyright">Copyright &copy; 2017 Tencent. All rights reserved. Updated: 2017-12-18</p>
						
						
						<p class="generator">Generated by <a href="http://appledoc.gentlebytes.com">appledoc 2.2.1 (build 1334)</a>.</p>
						
					</div>
				</footer>
			</div>
		</div>
	</article>

	<script src="../js/script.js"></script>
</body>
</html>